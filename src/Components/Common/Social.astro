---
import { useLocale } from '@/Hooks/useLocale';

const { t } = useLocale(Astro);

interface Props {
	animation?: 'fade' | 'slide' | 'none';
	hasGlass?: boolean;
	hasShadow?: boolean;
	buttonColor?: string;
	iconHoverColor?: string;
}

const {
	animation = 'fade',
	hasGlass = false,
	hasShadow = false,
	buttonColor = 'bg-gradient-to-r from-sky-500 to-purple-500 hover:from-sky-600 hover:to-purple-600',
	iconHoverColor = 'hover:text-sky-500 dark:hover:text-sky-400',
} = Astro.props;

const animationClass =
	animation === 'fade' ? 'animate-fade-in' : animation === 'slide' ? 'animate-slide-in-bottom' : '';

const socialLinks = [
	{
		url: 'https://github.com/AnderCMD',
		icon: 'fab fa-github',
		label: 'Github',
		delay: '100',
	},
	{
		url: 'https://www.linkedin.com/in/andercmd/',
		icon: 'fab fa-linkedin',
		label: 'LinkedIn',
		delay: '150',
	},
	{
		url: 'mailto:andercmd@outlook.com',
		icon: 'fa-solid fa-envelope',
		label: 'Correo',
		delay: '200',
	},
	{
		url: 'https://x.com/AnderCMDs',
		icon: 'fab fa-x-twitter',
		label: 'X - Twitter',
		delay: '250',
	},
	{
		url: 'https://www.twitch.tv/andercmds',
		icon: 'fab fa-twitch',
		label: 'Twitch',
		delay: '300',
	},
	{
		url: 'https://learn.microsoft.com/es-es/users/andercmd/',
		icon: 'fab fa-microsoft',
		label: 'Microsoft Learn',
		delay: '350',
	},
	{
		url: 'https://developers.google.com/profile/u/AnderCMDs',
		icon: 'fab fa-google',
		label: 'Google Developers',
		delay: '400',
	},
];
---

<style>
	.social-container {
		position: relative;
		transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
		overflow: hidden;
	}

	.social-container.with-shadow {
		padding: 1.5rem;
		border-radius: 1rem;
		background: rgba(255, 255, 255, 0.03);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
		border: 1px solid rgba(226, 232, 240, 0.8);
	}

	.social-container.with-glass {
		background: rgba(255, 255, 255, 0.05);
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.1);
	}

	.cv-button {
		position: relative;
		overflow: hidden;
		transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
		z-index: 1;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	}

	.cv-button:hover {
		transform: translateY(-2px);
		box-shadow: 0 7px 14px rgba(0, 0, 0, 0.15);
	}

	.cv-button::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(255, 255, 255, 0.1);
		z-index: -1;
		transform: scaleX(0);
		transform-origin: right;
		transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
	}

	.cv-button:hover::after {
		transform: scaleX(1);
		transform-origin: left;
	}

	.social-icon {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 3rem;
		height: 3rem;
		border-radius: 50%;
		transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
		background: rgba(255, 255, 255, 0.03);
		overflow: hidden;
	}

	.social-icon:hover {
		transform: translateY(-3px) scale(1.1);
		box-shadow: 0 7px 14px rgba(0, 0, 0, 0.1);
	}

	.social-icon i {
		transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
	}

	.social-icon::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: radial-gradient(circle, rgba(14, 165, 233, 0.15) 0%, rgba(14, 165, 233, 0) 70%);
		opacity: 0;
		transition: opacity 0.3s ease;
		z-index: -1;
	}

	.social-icon:hover::before {
		opacity: 1;
	}

	.animate-fade-in {
		animation: fadeIn 1s cubic-bezier(0.25, 0.8, 0.25, 1);
	}

	.animate-slide-in-bottom {
		animation: slideInBottom 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
	}

	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes slideInBottom {
		from {
			transform: translateY(30px);
			opacity: 0;
		}
		to {
			transform: translateY(0);
			opacity: 1;
		}
	}

	/* Dark mode styles */
	:global(.dark) .social-container.with-shadow {
		background: rgba(30, 41, 59, 0.03);
		border-color: rgba(51, 65, 85, 0.5);
	}

	:global(.dark) .social-container.with-glass {
		background: rgba(15, 23, 42, 0.3);
		border-color: rgba(51, 65, 85, 0.2);
	}

	:global(.dark) .social-icon {
		background: rgba(30, 41, 59, 0.2);
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
		.social-grid {
			grid-template-columns: repeat(4, 1fr);
			gap: 0.75rem;
		}
	}

	@media (max-width: 480px) {
		.social-grid {
			grid-template-columns: repeat(3, 1fr);
		}
	}
</style>

<section
	class={`social-container ${animationClass} ${hasGlass ? 'with-glass' : ''} ${hasShadow ? 'with-shadow' : ''} p-4`}
	data-aos='fade-up'
	data-aos-duration='800'
	data-aos-once='true'>
	<div class='flex items-center justify-between gap-6 max-md:flex-col'>
		<div class='flex justify-center md:mr-4 w-full md:w-auto' data-aos='fade-right' data-aos-delay='50'>
			<a
				href={t('About.CV.Link')}
				class={`cv-button w-full px-6 py-3 font-bold text-white rounded-full transition-all ${buttonColor}`}
				download
				aria-label={t('About.CV')}>
				<span class='flex items-center justify-center gap-2'>
					<i class='fas fa-file-download'></i>
					{t('About.CV')}
				</span>
			</a>
		</div>

		<div class='social-grid grid grid-cols-4 md:grid-cols-7 gap-4 w-full md:w-auto'>
			{
				socialLinks.map((link) => (
					<a
						href={link.url}
						aria-label={link.label}
						target='_blank'
						rel='noopener noreferrer'
						class='social-icon'
						data-aos='zoom-in'
						data-aos-delay={link.delay}>
						<i
							class={`text-2xl text-slate-900 ${link.icon} dark:text-white ${iconHoverColor} transition-all ease-in-out`}
						/>
					</a>
				))
			}
		</div>
	</div>
</section>

<script>
	import AOS from 'aos';

	document.addEventListener('astro:page-load', () => {
		// Initialize AOS with custom settings
		AOS.init({
			duration: 800,
			easing: 'ease-out-cubic',
			once: true,
			offset: 50,
		});
	});
</script>
